<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Belerofontech - Introducci√≥n a la programaci√≥n con Python - M√≥dulo 8</title>
    <link rel="icon" type="image/png" href="favicon.ico" sizes="any">
    <!-- NOTE: the next line will be (or has been) replaced by the contents of src/slide.css -->
    <style>*{margin:0;padding:0;box-sizing:border-box}#slide{display:none}.slide{white-space:nowrap}.slide-content{align-self:center}@media screen{body{position:absolute;top:50%;left:50%}.slide-3x2{width:1020px;height:680px;margin:-340px 0 0 -510px}.slide-4x3{width:1024px;height:768px;margin:-384px 0 0 -512px}.slide-16x9{width:1024px;height:576px;margin:-288px 0 0 -512px}.slide-16x10{width:1024px;height:640px;margin:-320px 0 0 -512px}.slide{position:absolute;width:100%;height:100%;display:flex;justify-content:center;overflow:hidden}}@media print{body{transform:none!important}img{transform:none!important;min-width:200px;width:100%;display:flex}.slide-root{max-width:100%;display:flex;flex-wrap:wrap;align-items:stretch}.slide-content{transform:none!important}.slide{display:flex;justify-content:center;position:initial;overflow:visible;flex:1;padding:1rem;margin:.5rem .5rem 2rem .5rem;border:1px solid;visibility:visible!important}}</style>
    <!-- NOTE: the next line will load the specific CSS file samefilename.html.css -->
    <script>var scrname = window.location.pathname.split('/').pop(); document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeend", "<link rel=\"stylesheet\" href=\"" + scrname + ".css\"/>");</script>
    <!-- NOTE: the next line will be (or has been) replaced by the contents of customization.css -->
    <style>@media screen,print{body{font-family:'Lato',sans-serif;background-color:#222222;color:#eeeeee;line-height:1.5}.slide a,.slide em{color:#eedd88}.slide img{display:block;margin-left:auto;margin-right:auto}.slide kbd,.slide blockquote{background-color:#eeeeee;border-radius:3px;border:1px solid #aaaaaa;color:#333333;font-weight:700;padding:2px 5px;white-space:nowrap}.slide h2{font-family:'Oswald',sans-serif;font-weight:200;font-size:1.5rem;color:#eedd88}.slide h1{font-family:'Oswald',sans-serif;font-weight:400;font-size:1.8rem;color:#eecc00}.slide h2 a.link-anchor:hover{color:#eedd88}.slide h1 a.link-anchor:hover{color:#eecc00}.slide h2 a.link-anchor,.slide h1 a.link-anchor{color:#222222;text-decoration:none}.slide pre,.slide samp,.slide kbd{font-family:'Inconsolata',monospace;line-height:1.2}.slide.solution pre{color:#222222}.slide samp{color:#eedd88}.slide.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.slide ul{margin-left:1em}.slide-0{background-color:#eecc00;color:#333333}.slide-0 h1{color:#eeeeee;font-size:2.4rem;text-shadow:1px 1px 3px #666666}.slide-0 h2{color:#333333;text-shadow:1px 1px 3px #666666}.slide-0 a{color:#333333;text-shadow:0px 0px 5px #666666}.slide-0 em,.slide-0 samp{color:#333333}} @media print{body{background-color:#ffffff;color:#000000}}</style>
    <!-- NOTE: the next line will be (or has been) replaced by the contents of src/slide.js -->
    <!-- NOTE: change below to CLICK_NEXT=1 to restore the default advance-on-click behaviour... -->
    <!-- NOTE: change below to HISTORY=0 to avoid pushing browser history elements for each page change! -->
    <script>var CLICK_NEXT=0,HISTORY=1,slideNames={},currentSlide=-1,onSearch=!1,INDENT_RE=/^(?:( )+|\t+)/;function trimIndent(e){var t=(e.match(INDENT_RE)||[""])[0].length;if(t>0){var n="^"+e.substring(0,t);return e.replace(new RegExp(n,"mg"),"")}return e}function renderSlide(e,t,n){var i=t.split("\n"),s=-1,r=document.createElement("div"),o=document.createElement("div"),l="";r.className="slide slide-"+n,o.className="slide-content";for(var a=0;a<i.length;a++){var d=i[a];if(d.startsWith("#"))l=d.startsWith("##")?l+"<h2>"+d.substring(2).trim()+"</h2>":l+"<h1>"+d.substring(1).trim()+"</h1>";else if(d.startsWith("`")||d.startsWith("\t")||d.startsWith("  ")){var h;0==(h=d.startsWith("  ")?d.substring(2):d.substring(1)).length&&(h=" "),l=l+"<pre>"+h+"</pre>"}else if(d.startsWith("@NOSELECT@"))r.className+=" noselect";else if(d.startsWith("@NOSCALE@"))r.className+=" noscale",o.className="slide-content-noscale";else if(d.startsWith("@ZOOM@")){var c=d.substring(6).trim();r.className+=" zoom-"+c}else if(d.startsWith("@CLASS@")){var m=d.substring(7).trim();r.className+=" "+m,slideNames[m]=n}else if(d.startsWith("!"))l=l+'<img src="'+d.substring(1).trim()+'" style="max-width: 100%"/>';else if(d.startsWith(":")){var u=d.substring(1).trim(),g='target="_blank"';u.startsWith("#")&&(g=""),l=l+'<a href="'+u+'" '+g+">"+u+"</a>",l+="<br>"}else if(d.startsWith("- "))l=l+"<ul><li>"+d.substring(1).trim()+"</li></ul>";else{if(d.startsWith("\x3c!--"))continue;var y=!0;d.startsWith(".")&&(d=d.substring(1)),"/NOBR/"==(d=d.trim()).substring(d.length-6,d.length)&&(y=!1,d=d.substring(0,d.length-6));for(var w=0;w<d.length;w++){var f=d.charAt(w);"*"==f?-1==s?s=(l+="<strong>").length:(s!=l.length?l+="</strong>":l=l.substring(0,l.length-8)+"*",s=-1):l+=f}0==y||"</blockquote>"==d.substring(d.length-13,d.length)||"</pre>"==d.substring(d.length-6,d.length)?l+="\x3c!-- nobr --\x3e":l+="<br>"}}o.innerHTML=l,r.style.visibility="hidden",r.appendChild(o),e.appendChild(r)}function render(e){var t=document.createElement("div");t.className="slide-root",document.body.appendChild(t);for(var n=(e=trimIndent(e)).split(new RegExp("^\n+","mg")),i=0;i<n.length;i++){renderSlide(t,n[i].trim(),i)}return t}function resize(){var e=window.innerWidth,t=window.innerHeight,n=document.body.offsetWidth,i=document.body.offsetHeight,s=e/t<n/i?e/n:t/i;document.body.style.transform="scale("+s+")",current()}function goTo(e){currentSlide>=0&&(1==HISTORY?window.location.hash=e:window.location.hash.replace(e),currentSlide=e);for(var t=document.querySelectorAll(".slide"),n=0;n<t.length;n++){var i=1,s=t[n],r=s.children[0],o=window.devicePixelRatio/10+.6;(s.className.match("noscale")||onSearch)&&(o=1);var l=s.offsetWidth*o/r.offsetWidth,a=s.offsetHeight*o/r.offsetHeight;if(s.className.match("zoom-")){var d=s.className.match("zoom-.+")[0].split();(i*=(parseInt(d[0].substr(5))||100)/100)<.25?i=.25:i>4&&(i=4)}i*=Math.min(l,a),n==e||onSearch?(r.style.transform="scale("+i+")",currentSlide>=0&&(s.style.visibility="")):onSearch||(s.style.visibility="hidden")}}function next(){goTo(Math.min(currentSlide+1,document.querySelectorAll(".slide").length-1))}function prev(){goTo(Math.max(currentSlide-1,0))}function current(){dest=currentSlide,max=document.querySelectorAll(".slide").length-1,goTo(Math.min(max,Math.max(dest,0)))}function readhash(){return dest=window.location.hash.substring(1)||"0",null!=slideNames[dest]&&(dest=slideNames[dest]),dest}function newhash(){-1!=currentSlide&&(dest=readhash(),max=document.querySelectorAll(".slide").length-1,goTo(Math.min(max,Math.max(dest,0))))}window.onload=function(){render(document.getElementById("slide").innerHTML);var e=readhash();resize(),currentSlide=e,CLICK_NEXT&&(window.onclick=next),window.onresize=resize,window.onwheel=function(e){onSearch||window.event.ctrlKey||window.event.metaKey||window.event.altKey||(e.deltaY>0?next():prev())},window.onkeydown=function(e){if(onSearch||window.event.ctrlKey||window.event.metaKey||window.event.altKey){if(window.event.ctrlKey&&70==e.keyCode||window.event.metaKey&&70==e.keyCode){document.body.style.transform="none";for(var t=document.querySelectorAll(".slide"),n=0;n<t.length;n++){var i=t[n],s=i.children[0];i.style.position="initial",i.style.overflow="hidden",i.style.display="flex",i.style.maxWidth="100%",s.style.padding="1rem",n>0&&(s.style.border="dotted"),i.style.visibility="visible"}onSearch=!0,resize(),window.setTimeout(resize,150)}}else 39==e.keyCode||40==e.keyCode||76==e.keyCode||74==e.keyCode||13==e.keyCode||34==e.keyCode||32==e.keyCode?next():37==e.keyCode||38==e.keyCode||72==e.keyCode||75==e.keyCode||8==e.keyCode||33==e.keyCode?prev():36==e.keyCode?goTo(0):27==e.keyCode&&(window.location.hash=currentSlide)},window.onhashchange=newhash,window.setTimeout(current,150)};</script>
    <style media="screen">@import url(https://fonts.googleapis.com/css?family=Lato:400,700&subset=latin,latin-ext);@import url(https://fonts.googleapis.com/css?family=Oswald:400,700);@import url(https://fonts.googleapis.com/css?family=Inconsolata);</style>
  </head>
  <body class="slide-16x9">
    <pre id="slide">
      # Introducci√≥n a la
      # programaci√≥n con Python
      .
      ## M√≥dulo 8. Funciones avanzadas
      .
      `<div style="text-align: right;">¬© 2020 Pachi Sucunza, Belerofontech</div>
      `<div style="text-align: right;"><a href="mailto:pachi.sucunza@belerofontech.com" target="_blank">‚úâ</a> <a href="http://www.belerofontech.com" target="_blank">üîó</a> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License">CC BY-NC-SA 4.0</a></div>

      # √çndice
        Funciones de primera clase
        Funciones Lambda (an√≥nimas)
        Clausuras (closures)
        Manipulaci√≥n de estructuras de datos
          zip(), map(), reduce(), etc.
        eval()
        Co-rutinas
        Generadores y yield
        Ejercicios extra
        Referencias
      @ZOOM@ 110

      # Funciones de primera clase
      En Python, las funciones son como cualquier otro objeto.
      Por tanto se soportan <em>funciones de orden superior</em> (funciones
      que reciben funciones como par√°metros, o las devuelven).
      .
      Avanzado: Programaci√≥n funcional (paradigma)
      : https://es.wikipedia.org/wiki/Programaci%C3%B3n_funcional
      .
      Otros: programaci√≥n <u>imperativa</u> (la m√°s com√∫n), funcional, l√≥gica...
      Un lenguaje puede implementar uno o varios de esos paradigmas

      Al ser objetos, las funciones pueden (y suelen) tener atributos!
      .
        >>> abs.__doc__
      Nos devuelve la Docstring (o None si no est√° definida)
        >>> abs.__dir__()
      Devuelve lo equivalente a dir(f)
        >>> type(f)
        <samp>function</samp>

      # Funciones Lambda (an√≥nimas)
      Avanzado (...)
      : https://en.wikipedia.org/wiki/Closure_(computer_programming)#Anonymous_functions
      .
      Ejemplo:
        lambda x: x + 1
        (lambda x: x + 1)(2)
        f = lambda x: x + 1  # podemos darle un nombre, para entenderlo mejor
        f(2)  # es lo mismo, y equivalente a si la hubi√©ramos definido "normal" con def
      .
      En Python, en resumen, son funciones sin nombre escritas en una notaci√≥n breve,
      que siempre devuelven un valor (funciones "tipo matem√°tico" o "productivas")
      .
      Largo pero bien explicado, <u>interesante</u> y con ejemplos:
      : https://realpython.com/python-lambda/

      # Clausuras (closures)
      Muy avanzado (...)
      <!-- : https://en.wikipedia.org/wiki/Closure_(computer_programming) -->
      Ejemplo:
        def by_factor(factor):
            def multiply(number):
                return factor * number
            return multiply  # ser√° una funci√≥n con 1 par√°metro ("number")!
        f = by_factor(2)
        f(5)
      .
      En resumen y simplificado (...), funciones que devuelven otras funciones
      (definidas dentro de ellas) a las que se les ha "fijado" alg√∫n par√°metro
      Es decir, tienen variables "capturadas" (funci√≥n con un "estado" / valores)
      : https://realpython.com/python-return-statement/#returning-functions-closures
      Son un caso particular de funciones de orden superior (devuelven funciones)

      <!-- EJERCICIO-PARA-CLASE (DEMO) -->
      # Ejercicio / demo: lambda y composici√≥n
      <blockquote>Funci√≥n que reciba a su vez dos funciones (como par√°metros) y<br> /NOBR/
      nos devuelva otra cuyo efecto es aplicar anidadas las otras dos.</blockquote>
      NOTA: puede ser m√°s sencillo de entender empezando por una que
      simplemente haga el efecto (aplicar ambas) pero no devuelva
      otra funci√≥n. Soluci√≥n real completa en la siguiente p√°gina
      Ejemplo:
        def f1(l): return l[0]
        def f2(s): return s.upper()
        def f_comp(primero, segundo, x):
            intermedio = primero(x)
            final = segundo(intermedio)
            return final  # o directamente: segundo(primero(x))
      .
        f_comp(f1, f2, l)

      Soluci√≥n:
        def f_comp_creator(primero, segundo):
            # devolvemos una funci√≥n!
            f = lambda x: segundo(primero(x))
            return f
      .
        f_comp_creator(f1, f2)(l)
        # lo mismo pero d√°ndole un mombre y en dos pasos:
        new_func = f_comp_creator(f1, f2)
        new_func(l)

      # Manipulaci√≥n de estructuras de datos
      : https://docs.python.org/3/tutorial/datastructures.html
      : https://docs.python.org/3/library/functions.html
      ## zip()
        zip(<u>*</u>iterables)
      "Make an iterator that aggregates elements from each of the iterables"
      NOTA: no tienen por qu√© ser solamente 2 los par√°metros que recibe!
      .
      ## map()
        map(function, iterable, ...)
      "Return an iterator that applies function to every item of iterable (...)"
      M√°s detalles en:
      : https://realpython.com/python-map-function/

      Ejemplo:
        def square(number):
            return number*number
        numbers = [1,2,3,4,5]
      .
        # Sin map(), forma "sencilla", ser√≠a:
        squared_numbers = []
        for number in numbers:
            squared = square(number)
            squared_numbers.append(squared)
      .
        # Lo mismo del bucle pero con map() ser√≠a:
        squared_numbers = map(square, numbers)

      ## reduce()
        reduce(function, sequence[, initial])
      "Apply a function of two arguments cumulatively to the items
      of a sequence (...)"
      .
      Es decir, los va "procesando" por pares progresivamente, con la
      funci√≥n f que le indiquemos como argumento: f(f(f(x), y), z)...
      OJO: por tanto, no devuelve un iterador sino ya el result. "final"
      Ejemplo:
        # no es built-in (import!), pero est√° en la bibl. est√°ndar
        from <u>functools</u> import reduce
        l = [3, 6, 8, 9, 2, 4, 5]
        product = reduce(lambda a, b : a*b, l)

      ## filter()
        filter(function, iterable)
      "Construct an iterator from those elements of iterable for which function returns True"
      .
      Es decir, nos sirve para <u>filtrar (eliminar) los que no cumplen</u> alguna condici√≥n
      Ejemplos:
        # filter devuelve un iterador, por eso al final lo convierto a list
        iter = filter(str.islower, ["hola", "Hello", "abc", "ABC"])
        new_list = list(iter)

      Para todas las funciones anteriores, salvo zip(), es habitual usar funciones
      <u>lambda</u> para pasar como argumento una funci√≥n an√≥nima ("temporal" o
      auxiliar, que se define justo donde la usamos por claridad y brevedad).
      Pero no tenemos por qu√©... podemos definir las nuestras.
      Ejemplo:
        from <u>functools</u> import reduce
        l = [3, 6, 8, 9, 2, 4, 5]
        # product = reduce(<u>lambda a, b : a*b</u>, l)
      .
        # lo equivalente sin lambda ser√≠a
        def mult2(a, b):
            return a * b
        product = reduce(mult2, l)
      .
      M√°s detalles en un art√≠culo sencillo con ejemplos: <a href="https://medium.com/@lokeshsharma596/python-lambda-map-filter-reduce-and-zip-function-c59d8946a3ce" target="_blank">aqu√≠</a>

      A veces es m√°s sencillo usar funciones ya existentes (no lambda), como alguna del
      <a href="https://docs.python.org/3/library/operator.html" target="_blank">m√≥dulo <u>operator</u></a>, que nos da "equivalentes" para cosas como los operadores, que
      son algo parecido pero no funciones (no tienen nombre). Por ejemplo +, ==, <,  etc.
      Ejemplos:
        import <u>operator</u>
        from <u>functools</u> import reduce
      .
        factorial = reduce(<u>operator.mul</u>, range(2, 11))  # factorial de 10
        new_list = reduce(<u>operator.concat</u>, ["hola", "Hola", "abc", "ABC"])
        suma = reduce(<u>operator.add</u>, [3, 6, 8, 9, 2, 4, 5])
      .
        people = [ {'nombre': 'Peter', 'apellido': 'Parker'},
                   {'nombre': 'John', 'apellido': 'Smith'} ]
        sorted(people, key=<u>operator.itemgetter</u>('apellido'))

      ## list.copy(), dict.copy(), etc.
      Devuelven una <u>copia superficial ("shallow", de primer nivel</u> s√≥lo) de
      la estructura original.
      Esto puede ser un problema (modificar lo copiado, afecta a lo original!)
      Si queremos copia "completa" o <u>profunda</u> ("deep"; recursiva!), usar
      el <em>m√≥dulo copy</em> de la biblioteca est√°ndar. Ejemplo:
        import copy
        x = copy.copy(y)        # make a shallow copy of y
        x = copy.deepcopy(y)    # make a deep copy of y
      .
      M√°s detalles en la <a href="https://docs.python.org/3/library/copy.html" target="_blank">doc. oficial</a> y tambi√©n (<u>m√°s sencillo, recom.</u>) en:
      : https://realpython.com/copying-python-objects/

      ## reversed()
        Init signature: reversed(sequence, /)
        Docstring:      Return a reverse <u>iterator</u> over the values
                        of the given sequence.
      .
      Ejemplo:
        reversed([1, 2, 3])
        list(reversed([1, 2, 3]))

      ## sorted()
        sorted(iterable, /, *, key=None, reverse=False)
      Devuelve otra estructura (nueva) con los elementos de la primera ordenados
      NOTA: los argumentos 'key' y 'reverse' son opcionales y por nombre siempre
      .
      Usamos <em>key</em> (una funci√≥n que devuelve algo "ordenable") cuando queremos un orden
      "a medida" (ej. con estr. de datos que no lo tienen o podemos querer otro: dict - keys).
      Ejemplo con un caso sencillo para entenderlo (listas):
        l = ['j', 'b', '0', 'W', 'efg', 'zz', 'z', 'za']
        sorted(l)  # ¬øqu√© ocurre? ¬øpor qu√©?
        sorted(l, <u>key</u>=str.casefold)  # o lower
        sorted(l, <u>key</u>=len)

      Ejemplos m√°s complejos con diccionarios (por def. se ordenan por clave):
        diccio = {'0' : 'W', 'b' : 'efg', 'j' : 'z', 'h' : 'z', 'za' : 'zz'}
        sorted(diccio)
      .
        def comp_dicc_value(diccitem):
            # se recibe un item (tupla c-v), y se devuelve el valor
            return diccitem[1]
        sorted(diccio, <u>key</u>=comp_dicc_value))  # ordenados por valor
      .
        sorted(diccio.items(), key = lambda x: x[1])  # lo mismo con lambdas
      .
      Y si puede haber valores repetidos, podemos "desempatar" con las claves:
        sorted(diccio.items(), key = lambda x: x[1] + x[0])  # v+c concatenados

      Avanzado: otros usos de ordenaci√≥n con par√°metro <u>key</u>:
      .
      Clases, para ordenar por alguno(s) de sus atributos, usando getattr()
      de forma similar a como hab√≠amos usado operator.itemgetter() (...)
      : https://realpython.com/python-sort/#sorted-with-a-key-argument
      .
      Tambi√©n para ordenar por ejemplo cadenas que contienen n√∫meros.
      Tener en cuenta que el orden alfab√©tico para cadenas no es igual
      que para n√∫meros. Ejemplo:
        1 < 2 < 9 < 10 < 11
        "1" < "10" < "11" < "2" < "9"  # se mira car√°cter a car√°cter!

      ## list.sort()
      Equivalente a sorted() que ordena una lista (la <u>modifica</u>!), y es m√°s eficiente.
      OJO, devuelve None para indicar que altera la lista "in place", no crea otra.
      .
      Opcional: argumento <em>key</em> (por nombre siempre). Ejemplo:
        <code>l.sort(<u>key</u>=list.upper)</code>
      Igual que sorted(), tambi√©n soporta el argumento <em>reverse</em> opcional (por nombre)
      .
      Algoritmos de ordenaci√≥n en Python:
      : https://docs.python.org/3/howto/sorting.html#sortinghowto
      IMPORTANTE: es ordenaci√≥n <u>estable</u> (no altera orden para los iguales)
      Eso significa que podemos aplicarla varias veces (orden por <u>varios</u> criterios!)

      Curiosidades / bromas
      Ineffective sorts:
      : https://xkcd.com/1185/
      : https://gkoberger.github.io/stacksort/

      <!-- EJERCICIO-PARA-CLASE (OPCIONAL) -->
      # Ejercicio 1 <u>(opcional)</u>: ordenaci√≥n<a href="#ejercicio-1" class="link-anchor"> # </a>
      <blockquote>Implementar dos algoritmos de ordenaci√≥n, y<br> /NOBR/
      probarlos con varios ejemplos de datos (listas).<br> /NOBR/
      Opcional: medir su eficiencia de forma aproximada,<br> /NOBR/
      por ejemplo el n√∫m. de iteraciones de bucle(s).<br> /NOBR/
      Comparar la sencillez del c√≥digo y de la depuraci√≥n.</blockquote>
      Detalles sobre los algoritmos en p√°ginas siguientes
      @CLASS@ ejercicio-1

      https://en.wikipedia.org/wiki/Gnome_sort
      ! https://upload.wikimedia.org/wikipedia/commons/3/37/Sorting_gnomesort_anim.gif

      https://en.wikipedia.org/wiki/Bubble_sort
      ! https://upload.wikimedia.org/wikipedia/commons/c/c8/Bubble-sort-example-300px.gif

      https://en.wikipedia.org/wiki/Insertion_sort
      ! https://upload.wikimedia.org/wikipedia/commons/4/42/Insertion_sort.gif
      ! https://upload.wikimedia.org/wikipedia/commons/0/0f/Insertion-sort-example-300px.gif

      # eval()<a href="#eval" class="link-anchor"> # </a>
      Eval√∫a <u>expresiones</u> din√°micamente (en el momento)
      Ejemplo:
        x = 2
        if x % 2 == 0:
            formula = "x * 5"
        else:
            formula = "0"
        y = eval(formula)  # recibe una cadena!
      .
      M√°s detalles en:
      : https://realpython.com/python-eval-function/
      @CLASS@ eval
      <!-- DESTINO-REFERENCIA-INTERNA-MODULO-8 (DESDE MODULO 9) -->

      # Co-rutinas
      Avanzado:
      "Coroutines are functions that can be stopped
      and resumed while being run"
      .
      Ejemplo que usaremos realmente: generadores

      # Generadores y yield
      Avanzado: saber al menos usarlos, no definirlos!
      "A generator is a recipe for producing values"
      Ejemplo:
        def gen():
            for n in range(12):
                <samp>yield</samp> n ** 2
        list(gen())
      .
      yield es similar a return pero el estado se queda "guardado" para la sig. invocaci√≥n
      Se comportan como iterables (produciendo los elementos a demanda / tipo "streaming")
      .
      M√°s detalles y ejemplos, muy claro y recomendable:
      : https://realpython.com/introduction-to-python-generators/

      Si la funci√≥n acaba "normal" (return expl√≠cito o se llega al final),
      se indica que ya se ha "agotado" el generador.
      Los bucles, etc. esperan/comprueban justo esto!
        def gen():
            for n in range(25):
                if n == 10:
                    <samp>return</samp>  # caso especial, volvemos "del todo"
                <samp>yield</samp> n ** 2
        
        for i in gen():
            print(i)
        # y en cualquier sitio donde valga un iterable, tambi√©n:
        print(list(gen()))

      <!-- EJERCICIO-PARA-CLASE (DEMO) -->
      # Ejercicio / demo: generadores y range
      <blockquote>Adaptar la funci√≥n equivelente a range() para que use generadores<br> /NOBR/
      (y por tanto produzca a demanda los valores).<br> /NOBR/
      Opcional: que no tenga fin si le pasamos alg√∫n par√°metro "especial".</blockquote>
      NOTA: suponemos que partimos de una funci√≥n ya hecha que cumpla:
      "Funci√≥n m√°s o menos equivalente a range(), devolviendo una lista..."
      .
      Ejemplo de partida en: <a href="examples/rango-de-numeros.py" target="_blank">rango-de-numeros.py</a>

      <!-- EJERCICIO-PARA-CLASE -->
      # Ejercicio 2: generadores y potencia<a href="#ejercicio-2" class="link-anchor"> # </a>
      <blockquote>A partir de la funci√≥n que calcula la n-√©sima potencia,<br> /NOBR/
      modificarlo para que no sea recursivo (sino un simple<br> /NOBR/
      bucle), y despu√©s adaptarlo para que sea un generador<br> /NOBR/
      (es decir, que en cada llamada produzca el valor sig.<br> /NOBR/
      que corresponda, y pueda usarse indefinidamente).</blockquote>
      NOTA: que el generador reciba como par√°metro s√≥lo la
      base, y empiece calculando base<sup>1</sup>, luego base<sup>2</sup>, etc.
      Opcional: que le podamos indicar el exponente inicial y
      final (en lugar de que no tenga fin y empiece en 1).
      .
      Ejemplo de funci√≥n de partida y forma de uso en p√°g. sig.
      @CLASS@ ejercicio-2

      Funci√≥n "est√°ndar" que calcula la n-√©sima potencia de un n√∫mero,
      punto de partida para adaptarla y obtener un generador:
        def potencia(base, exponente):
            resul = 1
            i = 1
            while i <= exponente:
                resul = resul * base
                i = i + 1
            return resul
      .
      Forma de uso esperada una vez que sea un generador:
        for i in potencia(2):  # por defecto, no indicamos exponente
            if i > 1_000_000:  # a√±adimos una condici√≥n de parada cualq.
                break
            print(i)

      # Ejercicios extra
      Ejercicio <u>recomendado</u> (sencillo) con generadores:
      - Generadores: hacer un programa que vaya calculando (y mostrando) progresivamente (a demanda,<br> con un bucle while que los vaya consumiendo) los n√∫meros primos (en orden) empezando en 2.<br> Se puede partir del ejemplo de base en: <a href="examples/generadores-primos-01-esqueleto.py" target="_blank">generadores-primos-01-esqueleto.py</a>
      .
      Ejercicios en un notebook, del curso "Complete Python Bootcamp", de Jose Portilla (Udemy / GitHub),<br> <u>muy recomendables</u> (en especial los dos primeros):
      - Repaso de funciones: <a href="https://github.com/Belerofontech/Complete-Python-3-Bootcamp/blob/master/03-Methods%20and%20Functions/08-Functions%20and%20Methods%20Homework.ipynb" target="_blank">.../Complete-Python-3-Bootcamp/.../08-Functions...ipynb</a>
      - Funciones avanzadas (map, zip, etc.): <a href="https://github.com/Belerofontech/Complete-Python-3-Bootcamp/blob/master/09-Built-in%20Functions/08-Built-in%20Functions%20Assessment%20Test.ipynb" target="_blank">.../Complete-Python-3-Bootcamp/.../08-Built-in Functions...ipynb</a>
      - M√°s avanzado: generadores: <a href="https://github.com/Belerofontech/Complete-Python-3-Bootcamp/blob/master/11-Python%20Generators/02-Iterators%20and%20Generators%20Homework.ipynb" target="_blank">.../Complete-Python-3-Bootcamp/.../02-Iterators and Generators...ipynb</a>
      .
      Ejercicios de realpython.com (algo avanzados):
      - Test/quizz de repaso sobre lambdas y func. avanzadas <a href="https://realpython.com/quizzes/python-lambda/" target="_blank">realpython.com/quizzes/python-lambda</a>
      - Dos ejercicios relacionados: "Analyzing the S&P500", y "Building Relay Teams from Swimmer Data".<br> NOTA: usan itertools pero tambi√©n ficheros (quiz√°s mejor intentar m√°s adelante, tras el M√≥dulo 9).<br> Enunciado y soluci√≥n en: <a href="https://realpython.com/python-itertools/" target="_blank">realpython.com/python-itertools</a>. C√≥digo en: <a href="https://github.com/realpython/materials/tree/master/itertools-in-python3" target="_blank">github.com/realpython/materials...</a>
      @ZOOM@ 110

      # Referencias
      : https://docs.python.org/
      : https://realpython.com/tutorials/
      : https://en.wikipedia.org/

    </pre>
  </body>
</html>
